# Тестирование в Replit (без графического интерфейса)

Это руководство объясняет, как тестировать компоненты приложения Финансовый Менеджер в среде Replit или других средах без графического интерфейса.

## Ограничения Replit

Replit и другие облачные среды разработки обычно не поддерживают графический интерфейс JavaFX. При попытке запустить GUI-приложение вы можете получить следующие ошибки:

- `Unsupported JavaFX configuration: classes were loaded from 'unnamed module'`
- `java.lang.UnsatisfiedLinkError: ... libprism_es2.so: libGL.so.1: cannot open shared object file`
- `Loading library glassgtk3 from resource failed`

Эти ошибки означают, что графические библиотеки JavaFX не могут быть корректно загружены в безголовной (headless) среде.

## Тестирование без GUI

Для тестирования компонентов приложения без запуска графического интерфейса вы можете использовать специальные тестовые скрипты:

### 1. Тестирование подключения к базе данных

Скрипт `test_db_connection.sh` проверяет наличие и работоспособность SQLite:

```bash
./test_db_connection.sh
```

Этот скрипт:
- Создает временный Java-класс для тестирования SQLite
- Проверяет подключение к базе данных
- Создает тестовую таблицу
- Выводит результаты тестирования

### 2. Тестирование бизнес-логики приложения

Скрипт `test_app.sh` запускает специальный класс `TestApp.java`, который тестирует основную функциональность приложения:

```bash
./test_app.sh
```

Этот скрипт:
- Компилирует проект с помощью Maven
- Запускает TestApp.java, который тестирует:
  - Создание таблиц в базе данных
  - Работу с категориями доходов и расходов
  - Создание и получение транзакций
  - Работу с бюджетами

## Структура данных, создаваемых при тестировании

При выполнении `test_app.sh` будут созданы следующие данные:

1. **Категории**:
   - Категории доходов: "Зарплата", "Дивиденды", "Подарки", "Прочие доходы"
   - Категории расходов: "Продукты", "Жилье", "Транспорт", "Развлечения", "Здоровье", "Одежда", "Прочие расходы"

2. **Тестовые транзакции**:
   - Доход: 50,000₽ в категории "Зарплата"
   - Расход: 15,000₽ в категории (первая доступная категория расходов)

3. **Бюджеты**:
   - Для каждой категории расходов: 10,000₽

## Результаты тестирования

После выполнения тестов в консоли будет выведена информация о созданных объектах и их состоянии:
- Список всех категорий с идентификаторами
- Список всех транзакций с датами, суммами и описаниями
- Список всех бюджетов с информацией об использовании

## Как использовать результаты тестирования

Если тесты выполнены успешно:
1. База данных создана правильно
2. ORM-слой работает корректно
3. Все базовые операции с данными функционируют должным образом

Это означает, что при запуске полной версии приложения с GUI на поддерживаемой платформе все функции будут работать корректно.
